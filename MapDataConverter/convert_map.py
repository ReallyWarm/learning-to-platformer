import json
TILE_SIZE = 32

data = {}
data['player'] = []
data['background'] = []
data['main'] = []
data['decor'] = []

with open('MapDataConverter/canva.json', 'r') as f:
        canva = json.load(f)
        f.close()

if canva['background']:
    # background
    pass
if canva['main']:
    for y, row in enumerate(canva['main']):
        for x, tile in enumerate(row):
            if tile != 0:
                data['main'].append([tile, (x*TILE_SIZE, y*TILE_SIZE), (TILE_SIZE, TILE_SIZE)])
if canva['decor']:
    for y, row in enumerate(canva['decor']):
        for x, tile in enumerate(row):
            if tile != 0:
                data['decor'].append([tile, (x*TILE_SIZE, y*TILE_SIZE), (TILE_SIZE, TILE_SIZE)])

with open('MapDataConverter/map_converted.json', 'w') as f:
    json.dump(data, f)
    f.close()

# {"background":[
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0]],
# "main":[
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0]],
# "decor":[
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0]]}

# m01
# {"background":null,
# "main":[
#     [5,5,5  ,5,5,5,5,5,8,8,8,8,8,8,5,5,5,5,5,5],
#     [5,5,5  ,5,8,8,8,9,0,0,0,0,0,0,7,8,5,5,5,5],
#     [5,5,8  ,9,0,0,0,0,0,0,0,0,0,0,0,0,7,5,5,5],
#     [5,9,0  ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,5],
#     [6,0,0  ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,5,5],
#     [6,0,0  ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8],
#     [6,0,0  ,0,0,1,3,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [6,0,"P",0,0,4,6,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [2,2,2  ,2,2,2,2,2,2,2,2,3,0,0,0,0,0,1,2,2],
#     [5,5,5  ,5,5,5,5,5,5,5,5,6,0,0,0,0,0,4,5,5]
#     ],
# "decor":[
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,16,0,15,0,0,18,0,16,0,0,0,0,0,0,0,0,18,0,17],
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
#     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}